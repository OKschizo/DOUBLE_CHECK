(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[580],{7003:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(2221),r=s(1801),i=s(7386),l=s(2441),n=s(4542),c=s(9279),d=s(8637),o=s.n(d);function x(){let e=(0,n.useRouter)(),t=(0,c.bL)(),[s,d]=(0,l.useState)({title:"",client:"",description:"",startDate:"",endDate:"",status:"planning",budget:""}),[x,u]=(0,l.useState)(""),m=async a=>{if(a.preventDefault(),u(""),!s.title||!s.client||!s.startDate||!s.endDate)return void u("Please fill in all required fields");try{let a=await t.mutateAsync({title:s.title,client:s.client,description:s.description||void 0,startDate:new Date(s.startDate),endDate:new Date(s.endDate),status:s.status,budget:s.budget?parseFloat(s.budget):void 0});e.push("/projects/".concat(a.id))}catch(e){console.error("Create project error:",e),u(e.message||"Failed to create project")}};return(0,a.jsx)(r.O,{children:(0,a.jsx)(i.N,{children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-text-tertiary mb-4",children:[(0,a.jsx)(o(),{href:"/dashboard",className:"hover:text-accent-primary transition-colors",children:"Dashboard"}),(0,a.jsx)("span",{children:"›"}),(0,a.jsx)("span",{className:"text-text-primary font-medium",children:"New Project"})]}),(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2 text-text-primary",children:"Create New Project"}),(0,a.jsx)("p",{className:"text-text-secondary text-lg",children:"Start a new film production and bring your vision to life"})]}),(0,a.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"card-elevated p-8 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium mb-2 text-text-secondary",children:["Project Title ",(0,a.jsx)("span",{className:"text-error",children:"*"})]}),(0,a.jsx)("input",{id:"title",type:"text",value:s.title,onChange:e=>d({...s,title:e.target.value}),className:"input-field",placeholder:"e.g., Space Ranger",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"client",className:"block text-sm font-medium mb-2 text-text-secondary",children:["Client / Production Company ",(0,a.jsx)("span",{className:"text-error",children:"*"})]}),(0,a.jsx)("input",{id:"client",type:"text",value:s.client,onChange:e=>d({...s,client:e.target.value}),className:"input-field",placeholder:"e.g., Sypher Studios",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium mb-2 text-text-secondary",children:"Description"}),(0,a.jsx)("textarea",{id:"description",value:s.description,onChange:e=>d({...s,description:e.target.value}),className:"input-field resize-none",placeholder:"Brief description of the project, its goals, and key details...",rows:4})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"startDate",className:"block text-sm font-medium mb-2 text-text-secondary",children:["Start Date ",(0,a.jsx)("span",{className:"text-error",children:"*"})]}),(0,a.jsx)("input",{id:"startDate",type:"date",value:s.startDate,onChange:e=>d({...s,startDate:e.target.value}),className:"input-field",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"endDate",className:"block text-sm font-medium mb-2 text-text-secondary",children:["End Date ",(0,a.jsx)("span",{className:"text-error",children:"*"})]}),(0,a.jsx)("input",{id:"endDate",type:"date",value:s.endDate,onChange:e=>d({...s,endDate:e.target.value}),className:"input-field",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium mb-2 text-text-secondary",children:"Initial Status"}),(0,a.jsxs)("select",{id:"status",value:s.status,onChange:e=>d({...s,status:e.target.value}),className:"input-field",children:[(0,a.jsx)("option",{value:"planning",children:"\uD83D\uDCDD Planning"}),(0,a.jsx)("option",{value:"pre-production",children:"⚙️ Pre-Production"}),(0,a.jsx)("option",{value:"production",children:"\uD83C\uDFAC Production"}),(0,a.jsx)("option",{value:"post-production",children:"✂️ Post-Production"}),(0,a.jsx)("option",{value:"completed",children:"✓ Completed"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"budget",className:"block text-sm font-medium mb-2 text-text-secondary",children:"Budget (USD)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-text-tertiary",children:"$"}),(0,a.jsx)("input",{id:"budget",type:"number",value:s.budget,onChange:e=>d({...s,budget:e.target.value}),className:"input-field pl-8",placeholder:"500,000",min:"0",step:"1000"})]}),(0,a.jsx)("p",{className:"mt-2 text-xs text-text-tertiary",children:"Optional: Set a budget for tracking expenses"})]})]}),x&&(0,a.jsxs)("div",{className:"bg-error/10 border border-error/30 rounded-xl p-4 flex items-start gap-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-error flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-error mb-1",children:"Error Creating Project"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:x})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{type:"submit",disabled:t.isPending,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:t.isPending?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Project"}),(0,a.jsx)(o(),{href:"/dashboard",className:"btn-secondary",children:"Cancel"})]})]})]})})})}},9279:(e,t,s)=>{"use strict";s.d(t,{YK:()=>r,bL:()=>i});var a=s(7127);function r(e){return a.i.projects.list.useQuery({status:e})}function i(){let e=a.i.useUtils();return a.i.projects.create.useMutation({onSuccess:()=>{e.projects.list.invalidate()}})}},9937:(e,t,s)=>{Promise.resolve().then(s.bind(s,7003))}},e=>{e.O(0,[680,661,201,637,223,956,674,718,795,358],()=>e(e.s=9937)),_N_E=e.O()}]);