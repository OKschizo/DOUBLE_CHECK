"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{1800:(e,r,a)=>{a.d(r,{K:()=>o,u:()=>n});var t=a(2221);a(2441);let n={dark:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),light:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),purple:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),cinematic:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"})}),teal:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),crimson:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),sage:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},o={green:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:"rgb(181, 255, 0)"}}),blue:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:"rgb(0, 181, 255)"}}),purple:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:"rgb(181, 0, 255)"}}),red:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:"rgb(255, 0, 181)"}}),yellow:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:"rgb(255, 181, 0)"}}),orange:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:"rgb(255, 128, 0)"}}),cyan:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:"rgb(0, 255, 181)"}})}},1801:(e,r,a)=>{a.d(r,{O:()=>c});var t=a(2221),n=a(2441),o=a(4542),s=a(7043);function c(e){let{children:r}=e,{firebaseUser:a,user:c,loading:i}=(0,s.A)(),l=(0,o.useRouter)();return((0,n.useEffect)(()=>{i||a||l.push("/login")},[a,i,l]),i&&!a)?(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-accent-primary border-r-transparent"}),(0,t.jsx)("p",{className:"mt-4 text-text-secondary",children:"Loading..."})]})}):a?(0,t.jsx)(t.Fragment,{children:r}):null}},4351:(e,r,a)=>{a.d(r,{db:()=>o,k:()=>s});var t=a(5183),n=a(6847);let o=(0,t.aU)(n.yA);function s(e){return(null==e?void 0:e.toDate)?e.toDate():e instanceof Date?e:new Date(e)}},4365:(e,r,a)=>{a.d(r,{Ct:()=>i,Vi:()=>s,Zj:()=>c});var t=a(8286),n=a(8645),o=a(1800);let s={green:{accentPrimary:"181 255 0",accentSecondary:"218 255 128",accentHover:"200 240 0",accentFocus:"160 220 0"},blue:{accentPrimary:"0 181 255",accentSecondary:"128 218 255",accentHover:"0 200 240",accentFocus:"0 160 220"},purple:{accentPrimary:"181 0 255",accentSecondary:"218 128 255",accentHover:"200 0 240",accentFocus:"160 0 220"},red:{accentPrimary:"255 0 181",accentSecondary:"255 128 218",accentHover:"240 0 200",accentFocus:"220 0 160"},yellow:{accentPrimary:"255 181 0",accentSecondary:"255 218 128",accentHover:"240 200 0",accentFocus:"220 160 0"},orange:{accentPrimary:"255 128 0",accentSecondary:"255 192 128",accentHover:"240 140 0",accentFocus:"220 110 0"},cyan:{accentPrimary:"0 255 181",accentSecondary:"128 255 218",accentHover:"0 240 200",accentFocus:"0 220 160"}},c={dark:{id:"dark",name:"Dark Mode",icon:o.u.dark,colors:{backgroundPrimary:"0 0 0",backgroundSecondary:"0 0 0",backgroundTertiary:"0 0 0",backgroundElevated:"5 5 5",accentPrimary:"181 255 0",accentSecondary:"218 255 128",accentHover:"200 240 0",accentFocus:"160 220 0",borderSubtle:"10 10 10",borderDefault:"20 20 20",borderEmphasis:"30 30 30",textPrimary:"255 255 255",textSecondary:"200 200 200",textTertiary:"150 150 150"}},light:{id:"light",name:"Light Mode",icon:o.u.light,gradient:"radial-gradient(circle at 20% 20%, rgba(0, 102, 255, 0.06), transparent 60%), radial-gradient(circle at 80% 80%, rgba(0, 102, 255, 0.04), transparent 60%)",colors:{backgroundPrimary:"255 255 255",backgroundSecondary:"249 250 251",backgroundTertiary:"243 244 246",backgroundElevated:"255 255 255",accentPrimary:"0 102 255",accentSecondary:"51 133 255",accentHover:"0 85 230",accentFocus:"0 68 204",borderSubtle:"229 231 235",borderDefault:"209 213 219",borderEmphasis:"156 163 175",textPrimary:"15 23 42",textSecondary:"51 65 85",textTertiary:"71 85 105"}},purple:{id:"purple",name:"Purple Nebula",icon:o.u.purple,gradient:"radial-gradient(circle at 20% 50%, rgba(124, 58, 237, 0.15), transparent 50%), radial-gradient(circle at 80% 80%, rgba(167, 139, 250, 0.1), transparent 50%)",colors:{backgroundPrimary:"11 13 20",backgroundSecondary:"19 21 31",backgroundTertiary:"26 29 46",backgroundElevated:"30 34 50",accentPrimary:"124 58 237",accentSecondary:"167 139 250",accentHover:"139 92 246",accentFocus:"109 40 217",borderSubtle:"30 41 59",borderDefault:"51 65 85",borderEmphasis:"71 85 105",textPrimary:"248 250 252",textSecondary:"148 163 184",textTertiary:"100 116 139"}},cinematic:{id:"cinematic",name:"Cinematic Orange",icon:o.u.cinematic,gradient:"radial-gradient(circle at 30% 20%, rgba(255, 107, 53, 0.12), transparent 60%), radial-gradient(circle at 70% 80%, rgba(232, 93, 4, 0.08), transparent 60%)",colors:{backgroundPrimary:"10 10 11",backgroundSecondary:"20 18 16",backgroundTertiary:"28 25 23",backgroundElevated:"38 32 28",accentPrimary:"255 107 53",accentSecondary:"247 147 30",accentHover:"232 93 4",accentFocus:"194 65 12",borderSubtle:"38 32 28",borderDefault:"68 54 42",borderEmphasis:"87 72 58",textPrimary:"252 249 246",textSecondary:"161 147 137",textTertiary:"120 106 96"}},teal:{id:"teal",name:"Teal Modern",icon:o.u.teal,gradient:"radial-gradient(circle at 10% 20%, rgba(6, 182, 212, 0.12), transparent 60%), radial-gradient(circle at 90% 90%, rgba(20, 184, 166, 0.08), transparent 60%)",colors:{backgroundPrimary:"8 15 25",backgroundSecondary:"15 23 38",backgroundTertiary:"21 31 50",backgroundElevated:"28 39 59",accentPrimary:"6 182 212",accentSecondary:"20 184 166",accentHover:"34 211 238",accentFocus:"8 145 178",borderSubtle:"28 39 59",borderDefault:"45 65 90",borderEmphasis:"71 91 120",textPrimary:"241 245 249",textSecondary:"148 169 191",textTertiary:"100 126 154"}},crimson:{id:"crimson",name:"Crimson Cinema",icon:o.u.crimson,gradient:"radial-gradient(circle at 25% 30%, rgba(220, 38, 38, 0.12), transparent 60%), radial-gradient(circle at 75% 70%, rgba(251, 113, 133, 0.08), transparent 60%)",colors:{backgroundPrimary:"11 11 14",backgroundSecondary:"20 17 20",backgroundTertiary:"30 24 28",backgroundElevated:"38 30 34",accentPrimary:"220 38 38",accentSecondary:"251 113 133",accentHover:"190 18 60",accentFocus:"153 27 27",borderSubtle:"38 30 34",borderDefault:"60 45 50",borderEmphasis:"82 60 68",textPrimary:"252 245 248",textSecondary:"163 145 151",textTertiary:"122 105 111"}},sage:{id:"sage",name:"Sage Green",icon:o.u.sage,gradient:"radial-gradient(circle at 15% 25%, rgba(16, 185, 129, 0.12), transparent 60%), radial-gradient(circle at 85% 75%, rgba(110, 231, 183, 0.08), transparent 60%)",colors:{backgroundPrimary:"13 27 26",backgroundSecondary:"19 35 34",backgroundTertiary:"26 43 42",backgroundElevated:"32 51 49",accentPrimary:"16 185 129",accentSecondary:"110 231 183",accentHover:"5 150 105",accentFocus:"4 120 87",borderSubtle:"32 51 49",borderDefault:"52 71 68",borderEmphasis:"74 94 89",textPrimary:"245 250 249",textSecondary:"152 170 167",textTertiary:"112 130 127"}}},i=(0,t.v)()((0,n.Zr)(e=>({currentTheme:"dark",darkModeAccent:"green",setTheme:r=>e({currentTheme:r}),setDarkModeAccent:r=>e({darkModeAccent:r})}),{name:"doublecheck-theme"}))},6847:(e,r,a)=>{a.d(r,{yA:()=>m,j2:()=>h,IG:()=>x});var t=a(6737),n=a(2478),o=a(5183),s=a(3314),c=a(5470),i=a(1391),l=a(1090);let d=(0,c.w)({server:{NODE_ENV:i.k5(["development","test","production"]).default("development"),SLACK_CLIENT_ID:i.Yj().optional(),SLACK_CLIENT_SECRET:i.Yj().optional(),SLACK_SIGNING_SECRET:i.Yj().optional(),PLAID_CLIENT_ID:i.Yj().optional(),PLAID_SECRET:i.Yj().optional(),PLAID_ENV:i.k5(["sandbox","development","production"]).optional().default("sandbox"),QUICKBOOKS_CLIENT_ID:i.Yj().optional(),QUICKBOOKS_CLIENT_SECRET:i.Yj().optional(),QUICKBOOKS_REDIRECT_URI:i.Yj().optional(),WRAPBOOK_API_KEY:i.Yj().optional(),WRAPBOOK_API_SECRET:i.Yj().optional(),NEXT_PUBLIC_APP_URL:i.Yj().optional().default("http://localhost:3000")},client:{NEXT_PUBLIC_FIREBASE_API_KEY:i.Yj().min(1),NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:i.Yj().min(1),NEXT_PUBLIC_FIREBASE_PROJECT_ID:i.Yj().min(1),NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:i.Yj().min(1),NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:i.Yj().min(1),NEXT_PUBLIC_FIREBASE_APP_ID:i.Yj().min(1),NEXT_PUBLIC_GOOGLE_MAPS_API_KEY:i.Yj().optional(),NEXT_PUBLIC_APP_URL:i.Yj().optional().default("http://localhost:3000")},runtimeEnv:{NODE_ENV:"production",NEXT_PUBLIC_FIREBASE_API_KEY:"AIzaSyBKS_cGxwhPAIiSLMsKvo-KIh_bi2MmXMo",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:"doublecheck-9f8c1.firebaseapp.com",NEXT_PUBLIC_FIREBASE_PROJECT_ID:"doublecheck-9f8c1",NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:"doublecheck-9f8c1.firebasestorage.app",NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:"672207092025",NEXT_PUBLIC_FIREBASE_APP_ID:"1:672207092025:web:8765da71fdbae52ee790e8",NEXT_PUBLIC_GOOGLE_MAPS_API_KEY:"AIzaSyBHgWLeF_yPh10emwOEwhIVysmWYDzoXqo",NEXT_PUBLIC_APP_URL:"https://unridered-jeneva-gratifiedly.ngrok-free.dev",SLACK_CLIENT_ID:l.env.SLACK_CLIENT_ID,SLACK_CLIENT_SECRET:l.env.SLACK_CLIENT_SECRET,SLACK_SIGNING_SECRET:l.env.SLACK_SIGNING_SECRET,PLAID_CLIENT_ID:l.env.PLAID_CLIENT_ID,PLAID_SECRET:l.env.PLAID_SECRET,PLAID_ENV:l.env.PLAID_ENV||"sandbox",QUICKBOOKS_CLIENT_ID:l.env.QUICKBOOKS_CLIENT_ID,QUICKBOOKS_CLIENT_SECRET:l.env.QUICKBOOKS_CLIENT_SECRET,QUICKBOOKS_REDIRECT_URI:l.env.QUICKBOOKS_REDIRECT_URI,WRAPBOOK_API_KEY:l.env.WRAPBOOK_API_KEY,WRAPBOOK_API_SECRET:l.env.WRAPBOOK_API_SECRET},skipValidation:!!l.env.SKIP_ENV_VALIDATION}),u={apiKey:d.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:d.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:d.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:d.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:d.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:d.NEXT_PUBLIC_FIREBASE_APP_ID},m=(0,t.Dk)().length>0?(0,t.Sx)():(0,t.Wp)(u),h=(0,n.xI)(m);(0,o.aU)(m);let x=(0,s.c7)(m)},7043:(e,r,a)=>{a.d(r,{A:()=>i});var t=a(2441),n=a(7960),o=a(7981),s=a(5183),c=a(4351);function i(){let{firebaseUser:e,user:r,loading:a,setFirebaseUser:i,setUser:l,setLoading:d}=(0,o.n)();return(0,t.useEffect)(()=>{let e=!0,r=null,a=(0,n.Bh)(async a=>{if(e)if(i(a),a){d(!0);let t=(0,s.H9)(c.db,"users",a.uid);r=(0,s.aQ)(t,r=>{if(e){if(r.exists()){let e=r.data();l({id:r.id,email:e.email,displayName:e.displayName,orgId:e.orgId,role:e.role,photoURL:e.photoURL,createdAt:(0,c.k)(e.createdAt),updatedAt:(0,c.k)(e.updatedAt)})}else l(null);d(!1)}},r=>{e&&(l(null),d(!1))})}else l(null),d(!1)});return()=>{e=!1,a(),r&&r()}},[i,l,d]),{firebaseUser:e,user:r,loading:a}}},7127:(e,r,a)=>{a.d(r,{i:()=>t});let t=(0,a(5974).pY)()},7386:(e,r,a)=>{a.d(r,{N:()=>h});var t=a(2221),n=a(7960),o=a(4542),s=a(7043),c=a(8637),i=a.n(c),l=a(2441),d=a(4365),u=a(1800),m=a(7933);function h(e){var r,a;let{children:c,fullWidth:h=!1}=e,{user:x}=(0,s.A)(),p=(0,o.useRouter)(),b=(0,o.usePathname)(),[g,y]=(0,l.useState)(!1),[v,j]=(0,l.useState)(!1),[_,E]=(0,l.useState)(!1),{currentTheme:k,setTheme:N,darkModeAccent:f,setDarkModeAccent:I}=(0,d.Ct)(),C=async()=>{await (0,n.CI)(),p.push("/")},S=[{name:"Dashboard",href:"/dashboard",icon:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Projects",href:"/projects",icon:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}];return(0,t.jsxs)("div",{className:"min-h-screen bg-background-primary",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-background-primary/95 backdrop-blur-sm border-b border-border-subtle",children:(0,t.jsx)("div",{className:"px-4 sm:px-6 lg:px-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-12",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)(i(),{href:"/dashboard",className:"flex items-center gap-2 group",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center group-hover:scale-105 transition-transform overflow-hidden",children:(0,t.jsx)(m.default,{src:"dark"===k?"/logo_dark.png":"/logo_light.png",alt:"DoubleCheck Logo",width:24,height:24,className:"object-contain"})}),(0,t.jsx)("span",{className:"text-lg font-bold text-text-primary group-hover:text-accent-primary transition-colors",children:"DoubleCheck"})]}),(0,t.jsx)("nav",{className:"hidden md:flex gap-1",children:S.map(e=>{var r;return(0,t.jsxs)(i(),{href:e.href,className:"px-3 py-1.5 text-sm font-medium transition-all flex items-center gap-1.5 ".concat(("/dashboard"===(r=e.href)?"/dashboard"===b:b.startsWith(r))?"bg-accent-primary/10 text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-text-primary hover:bg-accent-primary/5"),children:[e.icon,e.name]},e.name)})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors hover:bg-accent-primary/5",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>j(!v),className:"flex items-center gap-1.5 p-1.5 text-text-secondary hover:text-text-primary transition-colors hover:bg-accent-primary/5",title:"Change theme",children:d.Zj[k].icon}),v&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-background-primary border border-border-default shadow-xl py-2 animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[(0,t.jsx)("div",{className:"px-4 py-2 border-b border-border-subtle",children:(0,t.jsx)("p",{className:"text-xs font-semibold text-text-tertiary uppercase tracking-wider",children:"Quick Select"})}),(0,t.jsx)("div",{className:"py-2 px-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{N("light"),j(!1),E(!1)},className:"flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium transition-all ".concat("light"===k?"bg-accent-primary text-white shadow-md":"bg-background-primary text-text-secondary hover:text-text-primary hover:bg-accent-primary/5 border border-border-default"),children:[(0,t.jsx)("span",{className:"w-4 h-4 flex items-center justify-center",children:d.Zj.light.icon}),(0,t.jsx)("span",{children:d.Zj.light.name.replace(" Mode","")})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>{"dark"!==k&&N("dark"),E(!_)},className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium transition-all ".concat("dark"===k?"bg-accent-primary shadow-md":"bg-background-primary text-text-secondary hover:text-text-primary hover:bg-accent-primary/5 border border-border-default"),style:"dark"===k?{color:"rgb(var(--colored-button-text))"}:void 0,children:[(0,t.jsx)("span",{className:"w-4 h-4 flex items-center justify-center",children:d.Zj.dark.icon}),(0,t.jsx)("span",{children:d.Zj.dark.name.replace(" Mode","")}),"dark"===k&&(0,t.jsx)("svg",{className:"w-3 h-3 transition-transform ".concat(_?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),_&&"dark"===k&&(0,t.jsxs)("div",{className:"absolute left-full ml-2 top-0 w-48 bg-background-primary border border-border-default shadow-xl py-2 z-50",children:[(0,t.jsx)("div",{className:"px-3 py-1.5 border-b border-border-subtle",children:(0,t.jsx)("p",{className:"text-xs font-semibold text-text-tertiary uppercase tracking-wider",children:"Accent Color"})}),(0,t.jsx)("div",{className:"py-1",children:Object.keys(d.Vi).map(e=>(0,t.jsxs)("button",{onClick:()=>{I(e),E(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm transition-colors ".concat(f===e?"bg-accent-primary/10 text-accent-primary":"text-text-secondary hover:text-text-primary hover:bg-accent-primary/5"),children:[(0,t.jsx)("span",{className:"w-4 h-4 flex items-center justify-center",children:u.K[e]}),(0,t.jsx)("span",{className:"font-medium capitalize",children:e}),f===e&&(0,t.jsx)("svg",{className:"w-4 h-4 ml-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e))})]})]})]})}),(0,t.jsx)("div",{className:"px-4 py-2 border-t border-border-subtle",children:(0,t.jsx)("p",{className:"text-xs font-semibold text-text-tertiary uppercase tracking-wider mb-2",children:"Themed Modes"})}),(0,t.jsx)("div",{className:"py-1",children:Object.values(d.Zj).filter(e=>"light"!==e.id&&"dark"!==e.id).map(e=>(0,t.jsxs)("button",{onClick:()=>{N(e.id),j(!1),E(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-colors ".concat(k===e.id?"bg-accent-primary/10 text-accent-primary":"text-text-secondary hover:text-text-primary hover:bg-accent-primary/5"),children:[(0,t.jsx)("span",{className:"w-4 h-4 flex items-center justify-center",children:e.icon}),(0,t.jsx)("span",{className:"font-medium",children:e.name}),k===e.id&&(0,t.jsx)("svg",{className:"w-4 h-4 ml-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>y(!g),className:"flex items-center gap-2 px-2 py-1 hover:bg-accent-primary/5 transition-colors",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-full bg-gradient-primary flex items-center justify-center text-white text-xs font-semibold",children:(null==x||null==(r=x.displayName)?void 0:r.charAt(0))||(null==x||null==(a=x.email)?void 0:a.charAt(0))||"U"}),(0,t.jsxs)("div",{className:"hidden md:block text-left",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-text-primary",children:(null==x?void 0:x.displayName)||"User"}),(0,t.jsx)("p",{className:"text-[10px] text-text-tertiary",children:null==x?void 0:x.email})]}),(0,t.jsx)("svg",{className:"w-3 h-3 text-text-tertiary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-background-primary border border-border-default shadow-xl py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-border-subtle",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:null==x?void 0:x.email}),(0,t.jsx)("p",{className:"text-xs text-text-tertiary mt-1",children:"Free Plan"})]}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsxs)(i(),{href:"/settings",className:"flex items-center gap-3 px-4 py-2 text-sm text-text-secondary hover:text-text-primary hover:bg-accent-primary/5 transition-colors",children:[(0,t.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),(0,t.jsxs)(i(),{href:"/help",className:"flex items-center gap-3 px-4 py-2 text-sm text-text-secondary hover:text-text-primary hover:bg-accent-primary/5 transition-colors",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Help & Support"]})]}),(0,t.jsx)("div",{className:"border-t border-border-subtle pt-2",children:(0,t.jsxs)("button",{onClick:C,className:"flex items-center gap-3 px-4 py-2 text-sm text-error hover:bg-error/10 transition-colors w-full",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]})]})]})]})})}),(0,t.jsx)("main",{className:h?"":"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c}),(g||v||_)&&(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>{y(!1),j(!1),E(!1)}})]})}},7960:(e,r,a)=>{a.d(r,{Bh:()=>u,CI:()=>d,G6:()=>l,Hh:()=>i,Jv:()=>c}),a(2441);var t=a(2478),n=a(5183),o=a(6847),s=a(4351);let c=async(e,r)=>{try{return{user:(await (0,t.x9)(o.j2,e,r)).user,error:null}}catch(e){return{user:null,error:e.message}}},i=async(e,r)=>{try{let a=await (0,t.eJ)(o.j2,e,r);if(a.user){let r=(0,n.H9)(s.db,"users",a.user.uid);await (0,n.BN)(r,{id:a.user.uid,email:a.user.email,displayName:a.user.displayName||e.split("@")[0],orgId:"default-org",role:"admin",photoURL:a.user.photoURL||null,createdAt:(0,n.O5)(),updatedAt:(0,n.O5)()})}return{user:a.user,error:null}}catch(e){return{user:null,error:e.message}}},l=async()=>{try{let e=console.error,r=console.warn;console.error=()=>{},console.warn=()=>{};let a=new t.HF;a.setCustomParameters({prompt:"select_account"});let c=await (0,t.df)(o.j2,a);if(console.error=e,console.warn=r,c.user){let e=(0,n.H9)(s.db,"users",c.user.uid);(0,n.x7)(e).then(r=>{if(!r.exists()){var a;(0,n.BN)(e,{id:c.user.uid,email:c.user.email,displayName:c.user.displayName||(null==(a=c.user.email)?void 0:a.split("@")[0]),orgId:"default-org",role:"admin",photoURL:c.user.photoURL||null,createdAt:(0,n.O5)(),updatedAt:(0,n.O5)()}).catch(()=>{})}}).catch(()=>{})}return{user:c.user,error:null}}catch(e){return{user:null,error:e.message}}},d=async()=>{try{return await (0,t.CI)(o.j2),{error:null}}catch(e){return{error:e.message}}},u=e=>(0,t.hg)(o.j2,e)},7981:(e,r,a)=>{a.d(r,{n:()=>t});let t=(0,a(8286).v)(e=>({firebaseUser:null,user:null,loading:!0,setFirebaseUser:r=>e({firebaseUser:r}),setUser:r=>e({user:r}),setLoading:r=>e({loading:r}),signOut:()=>e({firebaseUser:null,user:null})}))}}]);