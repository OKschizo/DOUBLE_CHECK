@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Default theme values - will be overridden by ThemeProvider */
    --background-primary: 0 0 0;
    --background-secondary: 0 0 0;
    --background-tertiary: 0 0 0;
    --background-elevated: 5 5 5;
    
    --text-primary: 255 255 255;
    --text-secondary: 200 200 200;
    --text-tertiary: 150 150 150;
    
    --accent-primary: 181 255 0;
    --accent-secondary: 218 255 128;
    --accent-hover: 200 240 0;
    --accent-focus: 160 220 0;
    
    --border-subtle: 10 10 10;
    --border-default: 20 20 20;
    --border-emphasis: 30 30 30;
    
    --error: 239 68 68;
    --success: 16 185 129;
    --warning: 245 158 11;
    --info: 59 130 246;
    
    --shadow-color: 0 0 0;
    --theme-gradient: none;
    --button-text-on-accent: 255 255 255; /* Default to white */
    --colored-button-text: 255 255 255; /* Default to white */
  }
  
  body {
    @apply antialiased;
    background-color: rgb(var(--background-primary));
    color: rgb(var(--text-primary));
    font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    letter-spacing: -0.011em;
    position: relative;
  }
  
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    min-height: 100vh;
    background: var(--theme-gradient, none);
    pointer-events: none;
    z-index: 0;
    opacity: 1;
    transition: background 0.35s ease;
  }
  
  body > div {
    position: relative;
    z-index: 1;
  }
  
  * {
    @apply border-border-subtle;
  }
}

@layer components {
  /* Card Styles - Maxton-inspired with our colors */
  .card {
    @apply bg-background-primary border border-border-subtle;
    border-radius: 1rem;
    transition: all 0.2s ease;
  }
  
  .card-elevated {
    @apply bg-background-primary border border-border-default;
    border-radius: 1rem;
    transition: all 0.2s ease;
  }
  
  .card-hover {
    @apply transition-all duration-200;
    border-radius: 1rem;
  }
  
  .card-hover:hover {
    border-color: rgb(var(--accent-primary) / 0.3);
    box-shadow: 0 0 0 1px rgb(var(--accent-primary) / 0.1);
  }
  
  /* Button Styles - Maxton gradient style using our accent colors */
  .btn-grd-primary {
    background: linear-gradient(135deg, rgb(var(--accent-primary)) 0%, rgb(var(--accent-secondary)) 100%);
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgb(var(--accent-primary) / 0.25);
  }
  
  .btn-grd-primary:hover {
    background: linear-gradient(135deg, rgb(var(--accent-hover)) 0%, rgb(var(--accent-primary)) 100%);
    box-shadow: 0 4px 12px rgb(var(--accent-primary) / 0.35);
    transform: translateY(-1px);
  }
  
  .btn-grd-primary:active {
    transform: translateY(0);
  }
  
  .btn-primary {
    @apply px-4 py-2 font-semibold transition-all duration-200 active:scale-[0.98];
    background: linear-gradient(135deg, rgb(var(--accent-primary)) 0%, rgb(var(--accent-secondary)) 100%);
    color: rgb(var(--button-text-on-accent, 255 255 255));
    border-radius: 0.75rem;
    font-size: 14px;
    box-shadow: 0 2px 8px rgb(var(--accent-primary) / 0.25);
  }
  
  .btn-primary:hover {
    background: linear-gradient(135deg, rgb(var(--accent-hover)) 0%, rgb(var(--accent-primary)) 100%);
    box-shadow: 0 4px 12px rgb(var(--accent-primary) / 0.35);
  }
  
  .btn-secondary {
    @apply px-4 py-2 font-medium transition-all duration-200;
    @apply bg-background-primary text-accent-secondary;
    @apply border border-border-default hover:border-accent-primary/50;
    @apply hover:bg-accent-primary/10 active:scale-[0.98];
    border-radius: 0.75rem;
    font-size: 14px;
  }
  
  /* Input Styles */
  .input-field {
    @apply w-full px-4 py-3 transition-all duration-200;
    @apply bg-background-primary border border-border-default;
    @apply text-text-primary placeholder:text-text-tertiary;
    @apply focus:outline-none focus:ring-2 focus:ring-accent-primary/50 focus:border-accent-primary;
    border-radius: 0.75rem;
  }
  
  .input-field:hover {
    border-color: rgb(var(--border-emphasis));
  }
  
  /* Badge Styles */
  .badge {
    @apply px-3 py-1 text-xs font-medium;
    border-radius: 0.5rem;
  }
  
  .badge-primary {
    @apply bg-accent-primary/20 text-accent-secondary border border-accent-primary/30;
  }
  
  .badge-success {
    @apply bg-success/20 text-success border border-success/30;
  }
  
  .badge-warning {
    @apply bg-warning/20 text-warning border border-warning/30;
  }
  
  .badge-error {
    @apply bg-error/20 text-error border border-error/30;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .gradient-primary {
    background: linear-gradient(135deg, rgb(var(--accent-primary)) 0%, rgb(var(--accent-secondary)) 100%);
  }
  
  .gradient-accent {
    background: linear-gradient(135deg, #EC4899 0%, rgb(var(--accent-primary)) 100%);
  }
  
  /* Hover utilities for deep black theme */
  .hover-accent {
    @apply transition-all duration-200;
  }
  
  .hover-accent:hover {
    background-color: rgb(var(--accent-primary) / 0.05);
    border-color: rgb(var(--accent-primary) / 0.3);
  }
  
  .hover-accent-strong {
    @apply transition-all duration-200;
  }
  
  .hover-accent-strong:hover {
    background-color: rgb(var(--accent-primary) / 0.1);
    border-color: rgb(var(--accent-primary) / 0.5);
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgb(var(--background-secondary));
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--border-emphasis));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--text-tertiary));
}

/* Progress bar shimmer animation */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* Mobile-specific improvements */
@media (max-width: 767px) {
  /* Larger touch targets on mobile */
  button, a, [role="button"] {
    min-height: 44px;
  }
  
  /* Improve input fields on mobile */
  input, select, textarea {
    font-size: 16px !important; /* Prevents iOS zoom on focus */
  }
  
  /* Better scrolling on mobile */
  .overflow-y-auto, .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }
}

/* Slide-in animations for mobile menus */
@keyframes slideInFromLeft {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes slideInFromRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes slideInFromBottom {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-in {
  animation-duration: 200ms;
  animation-timing-function: ease-out;
  animation-fill-mode: both;
}

.slide-in-from-left {
  animation-name: slideInFromLeft;
}

.slide-in-from-right {
  animation-name: slideInFromRight;
}

.slide-in-from-bottom {
  animation-name: slideInFromBottom;
}

.fade-in {
  animation-name: fadeIn;
}

/* Safe area insets for notched devices */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
}

/* Hide scrollbar utility */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* ==================== PRINT STYLES ==================== */
@media print {
  /* Reset colors for printing */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Hide non-print elements */
  .print\\:hidden {
    display: none !important;
  }
  
  /* Show print-only elements */
  .print\\:block {
    display: block !important;
  }
  
  /* Reset backgrounds and colors for readability */
  body {
    background: white !important;
    color: black !important;
  }
  
  /* Call sheet specific print styles */
  .print\\:p-0 {
    padding: 0 !important;
  }
  
  .print\\:p-4 {
    padding: 1rem !important;
  }
  
  .print\\:p-6 {
    padding: 1.5rem !important;
  }
  
  .print\\:my-0 {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
  }
  
  .print\\:mt-4 {
    margin-top: 1rem !important;
  }
  
  .print\\:rounded-none {
    border-radius: 0 !important;
  }
  
  .print\\:border-none {
    border: none !important;
  }
  
  .print\\:max-w-full {
    max-width: 100% !important;
  }
  
  .print\\:max-h-full {
    max-height: 100% !important;
  }
  
  .print\\:space-y-3 > * + * {
    margin-top: 0.75rem !important;
  }
  
  .print\\:space-y-4 > * + * {
    margin-top: 1rem !important;
  }
  
  .print\\:mb-4 {
    margin-bottom: 1rem !important;
  }
  
  .print\\:text-2xl {
    font-size: 1.5rem !important;
  }
  
  .print\\:text-base {
    font-size: 1rem !important;
  }
  
  .print\\:overflow-visible {
    overflow: visible !important;
  }
  
  /* Page break controls */
  .print\\:break-before-page,
  .page-break-before {
    page-break-before: always !important;
    break-before: page !important;
  }
  
  .print\\:break-after-page,
  .page-break-after {
    page-break-after: always !important;
    break-after: page !important;
  }
  
  .print\\:break-inside-avoid {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }
  
  /* Ensure tables don't break across pages poorly */
  table {
    page-break-inside: auto;
  }
  
  tr {
    page-break-inside: avoid;
    page-break-after: auto;
  }
  
  thead {
    display: table-header-group;
  }
  
  tfoot {
    display: table-footer-group;
  }
  
  /* Ensure modals/overlays print correctly */
  .fixed {
    position: relative !important;
  }
  
  /* Remove shadows in print */
  .shadow,
  .shadow-lg,
  .shadow-xl,
  .shadow-2xl {
    box-shadow: none !important;
  }
  
  /* Make sure bg colors print */
  .bg-gray-100 {
    background-color: #f3f4f6 !important;
  }
  
  .bg-gray-200 {
    background-color: #e5e7eb !important;
  }
  
  .bg-gray-800 {
    background-color: #1f2937 !important;
  }
  
  .bg-red-50 {
    background-color: #fef2f2 !important;
  }
  
  .bg-red-600 {
    background-color: #dc2626 !important;
  }
  
  .bg-yellow-100 {
    background-color: #fef3c7 !important;
  }
  
  /* Ensure text colors print */
  .text-white {
    color: white !important;
  }
  
  .text-red-600 {
    color: #dc2626 !important;
  }
  
  .text-gray-700 {
    color: #374151 !important;
  }
  
  .text-gray-600 {
    color: #4b5563 !important;
  }
  
  .text-gray-500 {
    color: #6b7280 !important;
  }
  
  /* Print page settings */
  @page {
    size: letter portrait;
    margin: 0.5in;
  }
  
  @page :first {
    margin-top: 0.25in;
  }
}
